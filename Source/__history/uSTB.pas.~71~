unit uSTB;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.Imaging.jpeg, Vcl.ExtCtrls,
  Vcl.StdCtrls, uFakeID, uSB, uUpdater, IdBaseComponent, IdComponent, IdTCPConnection,
  IdTCPClient, IdHTTP, wininet, Vcl.ComCtrls, uAntiScammerPrograms, ShellAPI, uvm,
  MetropolisUI.Tile, Vcl.OleCtrls, SHDocVw;

type
  Tfrmmain = class(TForm)
    img1: TImage;
    lbl1: TLabel;
    lblcurrentversion: TLabel;
    idhtp1: TIdHTTP;
    lbl3123: TLabel;
    lbl2: TLabel;
    lblversion: TLabel;
    btnupdate: TButton;
    rednews: TRichEdit;
    pagecontrol: TPageControl;
    ts1: TTabSheet;
    ts2: TTabSheet;
    ts3: TTabSheet;
    ts4: TTabSheet;
    img2: TImage;
    img4: TImage;
    img5: TImage;
    redt1: TRichEdit;
    btncmd: TButton;
    lblscore: TLabel;
    lbl3: TLabel;
    lbl4: TLabel;
    btneach: TButton;
    webfakeid: TWebBrowser;
    btneventviewer: TButton;
    btninfectednetwork: TButton;
    btntree: TButton;
    btnstoppedservices: TButton;
    btnsmalltalk: TButton;
    btnmsconfig: TButton;
    btnmsinfo32: TButton;
    btnfirewall: TButton;
    btnwirusesfound: TButton;
    btnsyskey: TButton;
    btnnetstat: TButton;
    btnrandomcrap: TButton;
    btnlevel: TButton;
    btnfee: TButton;
    btnonething: TButton;
    btnsecureserver: TButton;
    btnhindi: TButton;
    procedure FormActivate(Sender: TObject);
    procedure btnupdateClick(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure btncmdClick(Sender: TObject);
    procedure btneachClick(Sender: TObject);
    procedure btneventviewerClick(Sender: TObject);
    procedure btninfectednetworkClick(Sender: TObject);
    procedure btntreeClick(Sender: TObject);
    procedure btnstoppedservicesClick(Sender: TObject);
    procedure btnsmalltalkClick(Sender: TObject);
    procedure btnmsconfigClick(Sender: TObject);
    procedure btnmsinfo32Click(Sender: TObject);
    procedure btnfirewallClick(Sender: TObject);
    procedure btnwirusesfoundClick(Sender: TObject);
    procedure btnsyskeyClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }

    bconnected : Boolean;
    currentversion : string;
    score : Integer;
  end;

var
  frmmain: Tfrmmain;

implementation

{$R *.dfm}

procedure Tfrmmain.btneachClick(Sender: TObject);
begin
  btneach.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btneventviewerClick(Sender: TObject);
begin
  btneventviewer.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnfirewallClick(Sender: TObject);
begin
  btnfirewall.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btninfectednetworkClick(Sender: TObject);
begin
  btninfectednetwork.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnmsconfigClick(Sender: TObject);
begin
  btnmsconfig.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnmsinfo32Click(Sender: TObject);
begin
  btnmsinfo32.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnsmalltalkClick(Sender: TObject);
begin
  btnsmalltalk.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnstoppedservicesClick(Sender: TObject);
begin
  btnstoppedservices.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnsyskeyClick(Sender: TObject);
begin
  btnsyskey.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btntreeClick(Sender: TObject);
begin
  btntree.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btncmdClick(Sender: TObject);
begin
  btncmd.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.btnupdateClick(Sender: TObject);
var
  github : string;
begin
  github := 'https://github.com/TCDG/Scammer-ToolBox';
  ShellExecute(Application.Handle, PChar('open'), PChar(github), nil, nil, SW_SHOW);
end;

procedure Tfrmmain.btnwirusesfoundClick(Sender: TObject);
begin
  btnwirusesfound.Enabled := False;
  Inc(score);
  lblscore.Caption := IntToStr(score);
end;

procedure Tfrmmain.FormActivate(Sender: TObject);
var
  slatestversion, snews : string;
  origin : cardinal;
begin
  Application.Title := 'Scammer ToolBox';

  bconnected := InternetGetConnectedState(@origin,0);

  currentversion := '1.0.6';

  lblcurrentversion.Caption := currentversion;

  if bconnected = True then
    Begin
      slatestversion := idhtp1.Get('http://154.127.60.211/version.html');

      lblversion.Caption := slatestversion;

      webfakeid.Navigate('http://www.fakenamegenerator.com/');

      if slatestversion >= currentversion then
        begin
          ShowMessage('There is a new update avalible! Please click Update at the bottom right.');
          btnupdate.Enabled := True;
        end;

    End
  else
    Begin
      lblversion.Caption := 'Offline';

      lblversion.Font.Color := clRed;;

      ShowMessage('You are currently offline. FakeID needs Internet to work!');
    End;
end;

procedure Tfrmmain.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  Release;
end;

end.
